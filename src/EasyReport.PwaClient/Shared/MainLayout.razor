@using Microsoft.AspNetCore.Components.Authorization
@inherits LayoutComponentBase
@inject Request Request
@inject ILocalStorageService LocalStorage
@inject NavigationManager NavigationManager
@inject IJSRuntime JsRuntime
@inject MasaBlazor MasaBlazor
@inject IJwtAuthProvider JwtAuthProvider

<CascadingValue Value="this">
    <MApp>
        <CascadingAuthenticationState>
            <AuthorizeView>
                <Authorized>
                    <MainNav>
                        @Body
                    </MainNav>
                </Authorized>
                <NotAuthorized>
                    <Login>
                    </Login>
                </NotAuthorized>
            </AuthorizeView>
        </CascadingAuthenticationState>
    </MApp>
</CascadingValue>

<style>
    .er-container {
        height: 100vh;
        overflow-y: auto;
    }
</style>

@code
{


    [JSInvokable]
    public void SwitchTheme()
    {
        MasaBlazor.ToggleTheme();
    }

    public void Fresh()
    {
        StateHasChanged();
    }
}